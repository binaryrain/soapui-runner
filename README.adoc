= SoapUI Test Runner Gradle Plugin image:https://travis-ci.org/daggerok/soapui-testrunner.svg?branch=master["Build Status", link="https://travis-ci.org/daggerok/soapui-testrunner"]

This repository contains simple gradle plugin (written in groovy) allowed configure and run SoapUI tests using gradle. link:https://github.com/daggerok/soapui-testrunner-groovy-example[see usage example]

== why?

SmartBear provides platform dependant scripts for SoapUI test project execution, but it's not so convenient.
For example, to execute SoapUI tests using testrunner tool you can use these commands:

==== windows

[source,cmd]
----
C:\path\to\SoapUI-5.3.0\bin\testrunner.bat C:\path\to\soapui-test-project.xml
----

==== unix

[source,bash]
----
/path/to/SoapUI-5.3.0.app/Contents/Resources/app/bin/testrunner.sh /path/to/soapui-test-project.xml
----

but with configured build script you only need to execute this:

[source,bash]
gradle testrunner

Also SmartBear currently supports only SoapUI link:http://smartbearsoftware.com/repository/maven2/com/smartbear/soapui/soapui-maven-plugin/5.3.1-RC/soapui-maven-plugin-5.3.1-RC.pom[plugin for maven], but not for Gradle.

== what's inside?

This plugin has quite simple functionality, but it is growing...

At the moment we are support only optional test suite runner task `testrunner` with next configurations:

[width="100%"]
|==============================================================================================================================================================================================================================================================================
| property                  | arg | default                 | description

| projectFile               | N/A | soapui-test-project.xml | sets the SoapUI project file containing the tests to run
| outputFolder              | -f  | build/soapui            | sets the output folder to export results to

| projectProperties         | -P  |                         | sets system properties
| globalProperties          | -G  |                         | sets global properties
| systemProperties          | -D  |                         | sets system properties

| settingsFile              | -t  |                         | sets the SoapUI settings file
| endpoint                  | -e  |                         | sets the endpoint to use for all test requests
| domain                    | -d  |                         | sets the domain to use for any authentications
| host                      | -h  |                         | sets the host to use by all test-requests, the existing endpoint port and path will be used
| username                  | -u  |                         | sets the username to use for any authentications
| password                  | -p  |                         | sets the password to use for any authentications
| wssPasswordType           | -w  |                         | sets the WSS password-type to use for any authentications. Setting this will result in the addition of WS-Security UsernamePassword tokens to any outgoing request containing the specified username and password
| projectPassword           | -x  |                         | sets SoapUI project password
| soapUISettingsPassword    | -v  |                         | sets SoapUI settings password

| testSuite                 | -s  |                         | sets the TestSuite to run. If not set all TestSuites in the specified project file are run
| testCase                  | -c  |                         | sets the test case to run

| failOnError               | N/A | false                   | sets if execution should stop and fails on any errors occurs
| printReport               | -r  | true                    | a flag controlling if a summary should be printed
| exportAll                 | -a  | true                    | adds console appender results to groovy log
| enableUI                  | -i  | false                   | enables Swing UI for scripts
| junitReport               | -j  | true                    | —Åollects TestRun results and creates JUnitReports
| junitReportWithProperties | -J  | true                    | include JUnit XML reports adding test
| ignoreError               | -I  | false                   | do not stop if error occurs, ignore them
| ignoreErrors              | N/A | false                   | a flag controlling if errors are ignored
| printAlertSiteReport      | -M  | true                    | creates a Test Run Log Report in XML format
| saveAfterRun              | -S  | false                   | saves the project after running the tests

| failOnStart               | N/A | false                   | (deprecated) if any misconfiguration's occurs than build will fail

|==============================================================================================================================================================================================================================================================================

link:https://plugins.gradle.org/plugin/io.github.daggerok.soapui-testrunner[Plugin on gradle portal]

== usage

[source,groovy]
----
buildscript {
  repositories {
    jcenter()
    maven { url 'http://smartbearsoftware.com/repository/maven2/' }
  }
}

plugins {
  id 'io.github.daggerok.soapui-testrunner' version '0.0.1'
}

testrunner {
  failOnStart true
  projectFile 'src/test/resources/soapui-test-project.xml'
  outputFolder 'out/tests'
}
----

==== or

[source,groovy]
----
buildscript {
  repositories {
    mavenLocal()
    jcenter()
    maven { url 'https://plugins.gradle.org/m2/' }
    maven { url 'http://smartbearsoftware.com/repository/maven2/' }
  }
  dependencies {
    classpath 'gradle.plugins.io.github.daggerok:soapui-testrunner:0.0.1'
  }
}

apply plugin: io.github.daggerok.SoapUITestRunnerPlugin

/*
// whole testrunner could be omitted if default properties are goot enough for you:
testrunner {
  projectFile = "$projectDir/soapui-test-project.xml"
  outputFolder = "$buildDir/soapui"
}
*/
----

==== publish plugin

[source,gradle]
----
bash gradlew clean build license install publish
bash gradlew publishPlugins
----

==== plugin info

- Gradle API 4.0.1
- Groovy 2.4.11
- SoapUI 5.3.0
